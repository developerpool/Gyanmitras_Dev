
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    Int64 FK_StudentID = Gyanmitras.Common.SiteUserSessionInfo.User.UserId;
    Int64 FK_CounselorID = Gyanmitras.Common.SiteUserSessionInfo.User.AdoptedCounselor;

}
<h2>@ViewBag.Title</h2>
<hr />
<style>
    .my-card:hover {
        box-sizing: border-box;
        margin-bottom: 1.875rem;
        border: none;
        -webkit-box-shadow: 0 1px 15px 16px rgba(62, 57, 107, .07);
        box-shadow: 0 1px 1px 4px rgba(62, 57, 107, .07);
    }

    #SuggestionDev {
        display: none;
    }
</style>
<br />
<div class="content-wrapper">

    <div class="content-body">
        <section class="NewformTabs">
            <div class="tab-content px-1 py-1">
                <div role="tabpanel" class="tab-pane active" id="tab11" aria-expanded="true" aria-labelledby="base-tab11">
                    <div class="row">
                        <div class="col-lg-12 offset-lg-1">
                            <div class="form-body">

                                <div class="row">
                                    <div class="col-12 mt-1 mb-2">
                                        <section id="stats-icon-subtitle">
                                            <div class="row match-height">
                                                @if (ViewBag.RoleId == 1)
                                                {
                                                    <div class="col-xl-3 col-md-3" id="SuggestionDev" onclick="$('#FeedbackSection').slideUp(500); $('#SuggestionSection').slideDown(500); $('#AdminFeedSection').slideUp(500); $('#PlannedCommunicationSection').slideUp(500);">
                                                        <div class="card overflow-hidden my-card" style="background:#c5d6c5">
                                                            <div class="card-content" id="total">
                                                                <div class="media align-items-stretch">
                                                                    <div class="media-body p-2">
                                                                        <h4>Suggestion</h4>
                                                                    </div>
                                                                    <div class="media-right p-2 media-middle">
                                                                        <h1 class="info font-weight-bold" id="totalValue">0</h1>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-xl-3 col-md-3" id="PlanCommunicatioCard" onclick="$('#FeedbackSection').slideUp(500); $('#PlannedCommunicationSection').slideDown(500); $('#AdminFeedSection').slideUp(500); $('#SuggestionSection').slideUp(500);">
                                                        <div class="card">
                                                            <div class="card-content" id="active">
                                                                <div class="media align-items-stretch">
                                                                    <div class="media-body p-2">
                                                                        <h4>Planned Communication</h4>
                                                                    </div>
                                                                    <div class="media-right p-2 media-middle">
                                                                        <h1 class="success font-weight-bold" id="totalPlannedCommunication">0</h1>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-3 col-md-3" id="FeedbackSectionDiv" onclick="$('#FeedbackSection').slideDown(500); $('#PlannedCommunicationSection').slideUp(500); $('#AdminFeedSection').slideUp(500); $('#SuggestionSection').slideUp(500);">
                                                        <div class="card overflow-hidden my-card">
                                                            <div class="card-content" id="inactive">
                                                                <div class="media align-items-stretch">
                                                                    <div class="media-body p-2">
                                                                        <h4>Feedback</h4>
                                                                    </div>
                                                                    <div class="media-right p-2 media-middle">
                                                                        <h1 class="success font-weight-bold" id="totalFeedback">0</h1>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-xl-3 col-md-3" onclick="location.href ='/Home/CommonChat'">
                                                        <div class="card overflow-hidden my-card">
                                                            <div class="card-content" id="inactive">
                                                                <div class="media align-items-stretch">
                                                                    <div class="media-body p-2">
                                                                        <h4>Chat, Call & Mail</h4>
                                                                    </div>
                                                                    <div class="media-right p-2 media-middle">
                                                                        <h1 class="success font-weight-bold" id="totalTotalInactiveValue">0</h1>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                                

                                                <div class="col-xl-3 col-md-3" id="AdminFeedSectionDiv" onclick="$('#FeedbackSection').slideUp(500); $('#PlannedCommunicationSection').slideUp(500); $('#AdminFeedSection').slideDown(500); $('#SuggestionSection').slideUp(500); loadFeed();">
                                                    <div class="card overflow-hidden my-card">
                                                        <div class="card-content" id="inactive">
                                                            <div class="media align-items-stretch">
                                                                <div class="media-body p-2">
                                                                    <h4>Admin Feeds</h4>
                                                                </div>
                                                                <div class="media-right p-2 media-middle">
                                                                    <h1 class="success font-weight-bold" id="totalFeed">0</h1>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                        </section>
                                        <style>
                                            .overflow-hidden {
                                                overflow: hidden;
                                            }

                                            .p-2 {
                                                padding: 1.5rem !important;
                                            }

                                            .media-body {
                                                -webkit-box-flex: 1;
                                                /*-webkit-flex: 1;
                                                -moz-box-flex: 1;
                                                -ms-flex: 1;*/
                                                flex: 1;
                                            }

                                            .card {
                                                box-sizing: border-box;
                                                margin-bottom: 1.875rem;
                                                border: none;
                                                -webkit-box-shadow: 0 1px 15px 1px rgba(62, 57, 107, .07);
                                                box-shadow: 0 1px 15px 1px rgba(62, 57, 107, .07);
                                            }

                                            .align-items-stretch {
                                                -webkit-box-align: stretch !important;
                                                /*-webkit-align-items: stretch !important;
                                                -moz-box-align: stretch !important;
                                                -ms-flex-align: stretch !important;*/
                                                align-items: stretch !important;
                                            }

                                            .media {
                                                display: -webkit-box;
                                                /*display: -webkit-flex;
                                                display: -moz-box;
                                                display: -ms-flexbox;*/
                                                display: flex;
                                                /*-webkit-box-align: start;
                                                -webkit-align-items: flex-start;
                                                -moz-box-align: start;
                                                -ms-flex-align: start;
                                                align-items: flex-start;*/
                                            }

                                            .card {
                                                position: relative;
                                                display: -webkit-box;
                                                display: -webkit-flex;
                                                display: -moz-box;
                                                display: -ms-flexbox;
                                                display: flex;
                                                flex-direction: column;
                                                min-width: 0;
                                                word-wrap: break-word;
                                                border: 1px solid rgba(0, 0, 0, .06);
                                                border-radius: .35rem;
                                                background-color: #fff;
                                                background-clip: border-box;
                                                -webkit-box-orient: vertical;
                                                -webkit-box-direction: normal;
                                                -webkit-flex-direction: column;
                                                -moz-box-orient: vertical;
                                                -moz-box-direction: normal;
                                                -ms-flex-direction: column;
                                            }

                                            .card-content:hover {
                                                cursor: pointer;
                                            }
                                        </style>

                                    </div>
                                </div>



                                <section id="FeedbackSection" style="display:none">
                                    <div class="row">
                                        <div class="text-right col-md-12 col-12">
                                            <a href="javascript:void(0)" id="btnNewFeedBack" onclick="popNewFeedback()" class="btn btn-primary btn-min-width round box-shadow-2 float-md-right mb-2"><i class="ft-plus-circle"></i>New Feedback</a>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <h4>
                                                Feedback
                                            </h4>
                                            <div class="card">
                                                <div class="card-header">

                                                </div>
                                                <div class="card-content collapse show" style="cursor: auto;">
                                                    <div class="card-body card-dashboard  pt-0">
                                                        <div class="dataTables_wrapper">
                                                            <div id="GridDiv">
                                                                <div class="table-responsive">
                                                                    <table cellspacing="0" cellpadding="0" border="0" class="table table-bordered table-hover" id="" width="100%" style="cursor:auto">
                                                                        <thead>
                                                                            <tr>
                                                                                <th><input type="checkbox" id="checkAll" value="" onclick="checkAll(this)"></th>
                                                                                <th class="text-center">No.</th>
                                                                                <th class="text-center">Date & Time</th>
                                                                                <th class="text-center">Did you like this class?</th>
                                                                                <th class="text-center">Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="tbodyFeedback"></tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section id="AdminFeedSection">
                                    <div class="row">
                                        <div class="col-12">
                                            <h4>Admin Feed</h4>
                                            <div class="card">
                                                <div class="card-header">

                                                </div>
                                                <div class="card-content collapse show" style="cursor: auto;">
                                                    <div class="card-body card-dashboard  pt-0">
                                                        <div class="dataTables_wrapper">
                                                            <div id="GridDiv">
                                                                <div class="table-responsive" style="max-height: 465px;">
                                                                    <table cellspacing="0" cellpadding="0" border="0" class="table table-bordered table-hover" id="" width="100%" style="cursor:auto">
                                                                        <thead>
                                                                            <tr>
                                                                                <th><input type="checkbox" id="checkAll" value="" onclick="checkAll(this)"></th>
                                                                                <th class="text-center">No.</th>
                                                                                <th class="text-center">Date & Time</th>
                                                                                <th class="text-center">Description</th>
                                                                                <th class="text-center">Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="tbodyFeed">
                                                                           
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>



                                <section id="PlannedCommunicationSection" style="display:none">
                                    <div class="row">
                                        <div class="col-12">
                                            <h4>
                                                Planned Communication
                                            </h4>
                                            <div class="card">
                                                <div class="card-header">

                                                </div>
                                                <div class="card-content collapse show" style="cursor: auto;">
                                                    <div class="card-body card-dashboard  pt-0">
                                                        <div class="dataTables_wrapper">
                                                            <div id="GridDiv">
                                                                <div class="table-responsive" style="max-height: 465px;">
                                                                    <table cellspacing="0" cellpadding="0" border="0" class="table table-bordered table-hover" id="" width="100%" style="cursor:auto">
                                                                        <thead>
                                                                            <tr>
                                                                                <th><input type="checkbox" id="checkAll" value="" onclick="checkAll(this)"></th>
                                                                                <th class="text-center">No.</th>
                                                                                <th class="text-center">Date & Time</th>
                                                                                <th class="text-center">Description</th>
                                                                                <th class="text-center">Status</th>
                                                                                @*<th class="text-center">Action</th>*@
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="tbodyPlanned">
                                                                            @*<tr>
                                                                                    <td colspan="14">
                                                                                        <div class="text-danger">
                                                                                            Data Not Found.
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>*@
                                                                            @*<tr>
                                                                                    <td><input type="checkbox" value=""></td>
                                                                                    <td class="text-center">1</td>


                                                                                    <td class="text-center">
                                                                                        05/01/2020 11:00 PM
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        TEST19
                                                                                    </td>

                                                                                    <td align="center"><div class="success text-bold-600">Active</div></td>

                                                                                    <td align="center" class="text-nowrap text-center">
                                                                                        <a class="btn btn-icon btn-dark btn-sm" href="/MstCustomer/AddEditCustomer/1562"><i class="la la-pencil"></i>View Details</a>
                                                                                        <a class="btn btn-icon btn-danger btn-sm delete" onclick="return confirm('Are&nbsp;you&nbsp;sure&nbsp;you&nbsp;want&nbsp;to&nbsp;delete?')" href="/MstCustomer/DeleteCustomer/1562 "><i class="la la-trash-o"></i>Not Interested</a>


                                                                                    </td>
                                                                                </tr>*@
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <section id="SuggestionSection" style="display:none">
                                    <div class="row">
                                        <div class="col-12">
                                            <h4>
                                                Suggestion
                                            </h4>
                                            <div class="card">
                                                <div class="card-header">

                                                </div>
                                                <div class="card-content collapse show" style="cursor: auto;">
                                                    <div class="card-body card-dashboard  pt-0">
                                                        <div class="dataTables_wrapper">
                                                            <div id="GridDiv">
                                                                <div class="table-responsive" style="max-height: 465px;">
                                                                    <table cellspacing="0" cellpadding="0" border="0" class="table table-bordered table-hover" id="" width="100%" style="cursor:auto">
                                                                        <thead>
                                                                            <tr>
                                                                                <th><input type="checkbox" id="checkAll" value="" onclick="checkAll(this)"></th>
                                                                                <th class="text-center">No.</th>
                                                                                <th class="text-center">Suggestion</th>
                                                                                <th class="text-center">Date</th>
                                                                                <th class="text-center">Status</th>
                                                                                <th class="text-center">Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            @*<tr>
                                                                                    <td colspan="14">
                                                                                        <div class="text-danger">
                                                                                            Data Not Found.
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>*@
                                                                            <tr>
                                                                                <td><input type="checkbox" value=""></td>
                                                                                <td class="text-center">1</td>
                                                                                <td class="text-center">
                                                                                    TEST19
                                                                                </td>

                                                                                <td class="text-center">
                                                                                    05/01/2020
                                                                                </td>

                                                                                <td align="center"><div class="success text-bold-600">Active</div></td>

                                                                                <td align="center" class="text-nowrap text-center">
                                                                                    <a class="btn btn-icon btn-dark btn-sm" href="/MstCustomer/AddEditCustomer/1562"><i class="la la-pencil"></i>View Details</a>
                                                                                    <a class="btn btn-icon btn-danger btn-sm delete" onclick="return confirm('Are&nbsp;you&nbsp;sure&nbsp;you&nbsp;want&nbsp;to&nbsp;delete?')" href="/MstCustomer/DeleteCustomer/1562 "><i class="la la-trash-o"></i>Not Interested</a>


                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>

                        @*<div class="col-lg-3 offset-lg-1">
                                <div class="form-body">
                                    <div class="row">
                                        <div class="col-12 mt-1 mb-2">
                                            <h4>Advertisement</h4>
                                            <hr>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Modal -->
<div id="NewFeedBack" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content" style="border-radius: 0px !important; ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"><i class="my-icon la la-comment-o"></i>FeedBack</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        Did you like this class?
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                    </div>
                    <div class="col-md-2" id="yesLikeClass" onclick="$('#noLikeClass').find('.dot').removeClass('dot-active'); $(this).find('.dot').addClass('dot-active');">
                        <span class="dot"><i class="my-icon la la-thumbs-o-up" style="color:green"></i></span>
                        <br />
                        <span style="color:green">Yes</span>
                    </div>
                    <div class="col-md-2" id="noLikeClass" onclick="$('#yesLikeClass').find('.dot').removeClass('dot-active'); $(this).find('.dot').addClass('dot-active'); ">
                        <span class="dot">
                            <i class="my-icon la la-thumbs-o-down" style="color:#e26666"></i>
                        </span>
                        <br />
                        <span style="color:#e26666">No</span>
                    </div>
                    <div class="col-md-4">
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-12">
                        <hr />
                        <i class="my-icon la la-smile-o"></i> &nbsp; What did you like best?
                    </div>
                </div>
                <br />
                <div class="row" id="feedBackCriteria">

                </div>

                <div class="row">
                    <div class="col-md-12">
                        <input type="text" class="form-control" id="txtFeedBackSuggesstion" placeholder="Your Suggesstion Here..." />
                    </div>
                </div>

                <div class="modal-footer">
                    <a class="btn btn-primary box-shadow-1 round btn-min-width mr-1 mb-1" href="javascript:void(0)" id="submitFeedBack">Submit FeedBack</a>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>
</div>
<style>
    .card {
        cursor: pointer;
    }

    .dot {
        height: 25px;
        width: 25px;
        background-color: #fff;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 0px 10px 3px rgba(0, 0, 0, 0.07);
    }

    .my-icon {
        font-size: 2.4rem !important;
    }

    .dot:hover {
        cursor: pointer;
        background-color: #28d094;
    }

    .dot-active {
        background-color: #28d094;
    }
</style>
@section scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(function () {
            $(".card").click(function () {
                if ($(this).find('table > tbody > tr').length <= 0) {
                    $('.card').removeAttr('style');
                    $(this).attr('style', 'background:#c5d6c5');
                }
            });

            $("#PlanCommunicatioCard").click(function () {
                StudentActionPanelFun();
            });

            if ('@ViewBag.RoleId' == '1') {
                $("#PlanCommunicatioCard").trigger('click');
            }
            else {
                $("#AdminFeedSectionDiv").trigger('click');
            }
            loadFeedBack();


            $("#submitFeedBack").click(function (e) {
                var IsLike = null;
                if (($("#yesLikeClass").find('.dot').attr('class')).indexOf('dot-active') >= 0) {
                    IsLike = 'true';
                }
                else if (($("#noLikeClass").find('.dot').attr('class')).indexOf('dot-active') >= 0) {
                    IsLike = 'false';
                }
                if (IsLike == null) {
                    alert('Choose The Option "Did you like this class?"');
                    return false;
                    e.preventDefault();
                }

                if (pk_feedbackcriteriaids.length <= 0) {
                    alert('Choose The Option "What did you like best?"');
                    return false;
                    e.preventDefault();
                }

                var FeedBackSuggesstionText = !($("#txtFeedBackSuggesstion").val()) ? "" : $("#txtFeedBackSuggesstion").val();

                var FeedBackSuggesstion = new Array();

                for (var i = 0; i < pk_feedbackcriteriaids.length; i++) {
                    FeedBackSuggesstion.push({
                        "FK_CounselorID": '@FK_CounselorID',
                        "FK_StudentID": $.trim("@FK_StudentID"),
                        'IsLikeThisClass': $.trim(IsLike),
                        'FeedBackBy': $.trim('Student'),
                        'FK_FeedBackCriteriaID': $.trim(pk_feedbackcriteriaids[i]),
                        "FeedBackSuggesstion": $.trim(FeedBackSuggesstionText),

                    });
                }

                if (FeedBackSuggesstion.length > 0) {
                    $.ajax({
                        url: "@Url.Action("AddEditFeedBack", "Counselor")",
                        type: 'GET',
                        cache: false,
                        beforeSend: function () {
                            $(".modalBgLoader, .modalLoaderCenter").show();
                        },
                        complete: function () {
                            $(".modalBgLoader, .modalLoaderCenter").hide();
                        },
                        data: { 'json_FeedBackSuggesstion': JSON.stringify(FeedBackSuggesstion) },
                        success: function (data) {
                            if (data) {
                                if (Number(data.MessageId) == 1) {
                                    alert(data.Message);
                                    loadFeedBack();
                                }
                                else {
                                    alert('Somthing Went Wrong!');
                                }
                            }
                            else {
                                alert('Somthing Went Wrong!');
                            }
                            $("#NewFeedBack").modal('hide');
                        }
                    });
                }
                else {
                    alert('Somthing went wrong!');
                }

            });

            loadFeed();
        })//Load Compeleted



        function StudentActionPanelFun() {
           
            $("#tbodyPlanned").empty();
            $("#tbodyPlanned").append('<tr> <td colspan="5"> <div class="text-danger"> Data Not Found. </div> </td> </tr>');

            $.ajax({
                url: "@Url.Action("GetPlannedCommunication", "Student")",
                type: 'GET',
                cache: false,
                beforeSend: function () {
                    $(".modalBgLoader, .modalLoaderCenter").show();
                },
                complete: function () {
                    $(".modalBgLoader, .modalLoaderCenter").hide();
                },
                data: { 'FK_StudentID': parseInt("@FK_StudentID") },
                success: function (data) {
                    ;
                    console.log(data);
                    if (data.length > 0) {
                        $("#totalPlannedCommunication").text(data.length);
                        $("#tbodyPlanned").empty();
                        for (var i = 0; i < data.length; i++) {
                            $("#tbodyPlanned").append('<tr> <td><input id="' + i + '" type="checkbox" value=""></td> <td class="text-center">' + Number(i + 1) + '</td> <td class="text-center"> ' + data[0].DateTimeFrom + ' - ' + data[0].DateTimeTo + ' </td> <td class="text-center">  ' + data[0].CommunicationPlan + ' </td> <td align="center"><div class="success text-bold-600">' + (String(data[0].IsActive) == "true" ? "Active" : "Closed") + '</div></td> </tr>');
                        }
                    }
                    else {

                    }
                }
            });

            $("#tbodyPlanned").focus();

        }

        function popNewFeedback(a) {

            $("#feedBackCriteria").empty();
            $.ajax({
                url: "@Url.Action("GetManageFeedBackCriteriaDetails", "Counselor")",
                type: 'GET',
                cache: false,
                beforeSend: function () {
                    $(".modalBgLoader, .modalLoaderCenter").show();
                },
                complete: function () {
                    $(".modalBgLoader, .modalLoaderCenter").hide();
                },
                //data: { 'json_PlanCommunication': JSON.stringify(PlanCommunication)},
                success: function (data) {
                    if (data) {
                        $("#NewFeedBack").modal('show');
                        var bool = false;
                        for (var i = 0; i < data.length; i++) {
                            if (data[i].Status == "Active") {
                                bool = true;
                                $("#yesLikeClass").removeClass('dot-active');
                                $("#noLikeClass").removeClass('dot-active');
                                $("#txtFeedBackSuggesstion").val('');
                                $("#feedBackCriteria").append('<div class="col-md-12"> <div class="card" onclick="feedBackCriteriaCard(this)" PK_FeedBackCriteriaID = "' + data[i].PK_FeedBackCriteriaID + '"> <span style="margin-top: 10px;margin-bottom: 10px;">&nbsp; <i class="la la-check"></i> ' + data[i].FeedbackCriteria + '</span> </div> </div>');
                            }
                        }
                        if (a) {
                            var result = feedbackdatadescription.filter(function (v) {
                                return v.CreatedDateTime === $.trim($(a).attr('createddatetime'));
                            });
                            if (String(result[0].IsLikeThisClass) == "true") {
                                $("#yesLikeClass").trigger('click');
                            }
                            else {
                                $("#noLikeClass").trigger('click');
                            }
                            $("#txtFeedBackSuggesstion").val($.trim(result[0].FeedBackSuggesstion));
                            for (var i = 0; i < result.length; i++) {
                                $("div[pk_feedbackcriteriaid='" + result[i].FK_FeedBackCriteriaID + "']").trigger('click');
                            }
                            $("#NewFeedBack").find('modal-footer').empty();

                        }
                        if (!bool) {
                            $("#NewFeedBack").modal('hide');
                            alert('Somthing Went Wrong!');
                        }
                    }
                    else {
                        alert('Somthing Went Wrong!');
                    }
                }
            });



        }

        function loadFeed() {
            debugger;
            $("#tbodyFeed").empty();
            $("#tbodyFeed").append('<tr> <td colspan="5"> <div class="text-danger"> Data Not Found. </div> </td> </tr>');
            $.ajax({
                url: "@Url.Action("GetManageFeedDetails", "Student")",
                type: 'GET',
            cache: false,
            beforeSend: function () {
                $(".modalBgLoader, .modalLoaderCenter").show();
            },
            complete: function () {
                $(".modalBgLoader, .modalLoaderCenter").hide();
            },
            //data: { 'FK_StudentID': Number($.trim()) },
            success: function (data) {
                debugger;
                if (data) {
                    var vari = 0;
                    if (data.length > 0) {
                        $("#tbodyFeed").empty();
                    }
                    for (var i = 0; i < data.length; i++) {
                        if (String(data[i].IsActive) == "true") {
                            vari++;
                            $("#tbodyFeed").append('<tr> <td><input type="checkbox" value="" ' + data[i].PK_FeedID + '></td> <td class="text-center">' + vari + '</td> <td class="text-center"> ' + data[i].CreatedDateTime + ' </td> <td class="text-center"> ' + data[i].FeedSubject + ' </td><td class="text-center"> ' + data[i].FeedDescription + ' </td><td align="center" class="text-nowrap text-center"> <a class="btn btn-icon btn-dark btn-sm" href="javascript:void(0)" PK_FeedID="' + data[i].PK_FeedID + '" onclick="popViewFeedDetails(this)" ><i class="la la-pencil"></i>View Details</a> </td> </tr>');
                        }
                    }
                    $("#totalFeed").text(vari);
                }
                else {
                    alert('Somthing Went Wrong!');
                }
            }
        });
        }
        function loadFeedBack() {
            $("#tbodyFeedback").empty();
            $("#tbodyFeedback").append('<tr> <td colspan="5"> <div class="text-danger"> Data Not Found. </div> </td> </tr>');
            $.ajax({
                url: "@Url.Action("GetManageFeedBackDetails", "Counselor")",
                type: 'GET',
                cache: false,
                beforeSend: function () {
                    $(".modalBgLoader, .modalLoaderCenter").show();
                },
                complete: function () {
                    $(".modalBgLoader, .modalLoaderCenter").hide();
                },
                data: { 'FK_StudentID': Number($.trim("@FK_StudentID")) },
                success: function (data) {
                    if (data) {
                        var vari = 0;
                        if (data.length > 0) {
                            $("#tbodyFeedback").empty();
                        }
                        
                        for (var i = 0; i < data.length; i++) {
                            if (String(data[i].IsActive) == "true" && Number(data[i].FeedOneTimeNumber) == 1) {
                                feedbackdatadescription = data;
                                vari++;
                                $("#tbodyFeedback").append('<tr> <td><input type="checkbox" value="" ' + data[i].PK_FeedBackID + '></td> <td class="text-center">' + vari + '</td> <td class="text-center"> ' + data[i].CreatedDateTime + ' </td> <td class="text-center"> ' + (String(data[i].IsLikeThisClass) == "true" ? "Yes" : "No") + ' </td><td align="center" class="text-nowrap text-center"> <a class="btn btn-icon btn-dark btn-sm" href="javascript:void(0)" createddatetime="' + data[i].CreatedDateTime + '" onclick="popNewFeedback(this)" ><i class="la la-pencil"></i>View Details</a> </td> </tr>');
                            }
                        }
                        $("#totalFeedback").text(vari);
                    }
                    else {
                        alert('Somthing Went Wrong!');
                    }
                }
            });
        }
        var feedbackdatadescription;
        var pk_feedbackcriteriaids = new Array();
        function feedBackCriteriaCard(a) {
            if ($(a).attr('isChecked')) {
                $(a).removeAttr('isChecked');
                $(a).removeAttr('style');
                var itemtoRemove = Number($(a).attr('pk_feedbackcriteriaid'));
                pk_feedbackcriteriaids.splice($.inArray(itemtoRemove, pk_feedbackcriteriaids), 1);
            }
            else {
                $(a).attr('style', 'background:#c5d6c5');
                $(a).attr('isChecked', 'true')
                pk_feedbackcriteriaids.push(Number($(a).attr('pk_feedbackcriteriaid')));
            }
        }


    </script>
}